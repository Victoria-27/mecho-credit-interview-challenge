<form [formGroup]="requestForm" (ngSubmit)="createRequest()" class="max-w-md mx-auto p-6 bg-white shadow-md mt-6 rounded-lg">
    <!-- General Notification Area -->
    <div *ngIf="requestForm.invalid || (!methodSelected && methodControl?.dirty) || (!typeSelected && typeControl?.dirty)"
        class="text-black-500 text-sm mb-4">
        Please fill all the below fields
    </div>

    <div class="mb-4">
        <label for="method" class="block text-gray-700 font-bold mb-2">Method</label>
        <select formControlName="method"  id="method" class="w-full p-2 border text-black rounded" required>
            <option value="cash">Cash</option>
            <option value="credit">Credit</option>
        </select>
    </div>

    <div class="mb-4">
        <label for="type" class="block text-gray-700 font-bold mb-2">Type</label>
        <select formControlName="type" id="type" class="w-full p-2 border text-black rounded" required>
            <option value="inspection">Inspection</option>
            <option value="servicing">Servicing</option>
            <option value="repairs">Repairs</option>
            <option value="maintenance">Maintenance</option>
        </select>
    </div>

    <div class="mb-4">
        <label for="amount" class="block text-gray-700 font-bold mb-2">Amount</label>
        <input type="number" id="amount" formControlName="amount" readonly class="w-full p-2 border text-black rounded">
    </div>

    <div *ngIf="insufficientBalance" class="text-red-600 mt-2">
        Insufficient balance for this transaction.
    </div>

    <button type="submit"
        [disabled]="requestForm.invalid || (!methodSelected && methodControl?.dirty) || (!typeSelected && typeControl?.dirty)"
        class="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600 disabled:opacity-50 cursor-pointer">
        Create Request
    </button>

    <div *ngIf="errorCreatingRequest" class="text-red-500 text-sm mt-1">
        Error creating request. Please check your balance and try again.
    </div>
</form>